<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mercedes-Benz - OTOTHESIU</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --gold-color: #FFD700;
      --dark-gold: #B8860B;
      --jade-black: #0D1B2A;
      --jade-dark: #041E42;
      --accent-gold: #F4E27C;
      --text-light: #E8E8E8;
      --mercedes-silver: #C0C0C0;
      --mercedes-dark-silver: #808080;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--jade-black);
      color: var(--text-light);
    }

    /* Navigation */
    .navbar {
      background: linear-gradient(135deg, var(--gold-color), var(--dark-gold)) !important;
      box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
    }

    .navbar-brand .brand-text {
      font-weight: bold;
      font-size: 1.5rem;
      background: linear-gradient(45deg, var(--jade-black), var(--jade-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .navbar-nav .nav-link {
      color: var(--jade-black) !important;
      font-weight: 600;
      position: relative;
      transition: all 0.3s ease;
    }

    .navbar-nav .nav-link:hover {
      color: var(--jade-dark) !important;
      transform: translateY(-2px);
    }

    .navbar-nav .dropdown-menu {
      background: var(--jade-black);
      border: 2px solid var(--gold-color);
      border-radius: 10px;
      box-shadow: 0 8px 30px rgba(255, 215, 0, 0.2);
    }

    .navbar-nav .dropdown-item {
      color: var(--text-light);
      padding: 10px 20px;
      transition: all 0.3s ease;
    }

    .navbar-nav .dropdown-item:hover {
      background: linear-gradient(135deg, var(--gold-color), var(--dark-gold));
      color: var(--jade-black);
    }

    .btn-outline-light {
      border: 2px solid var(--jade-black) !important;
      color: var(--jade-black) !important;
      background: transparent;
      transition: all 0.3s ease;
    }

    .btn-outline-light:hover {
      background: var(--jade-black) !important;
      color: var(--text-light) !important;
      border-color: var(--jade-black) !important;
    }

    .form-control {
      border: 2px solid var(--jade-black) !important;
      background: var(--text-light);
      color: var(--jade-black);
    }

    .form-control:focus {
      border-color: var(--gold-color) !important;
      box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
    }

    /* Hero Section */
    .mercedes-hero {
      background: linear-gradient(rgba(13, 27, 42, 0.8), rgba(4, 30, 66, 0.9));
      color: var(--text-light);
      padding: 100px 0;
      text-align: center;
      border-bottom: 3px solid var(--mercedes-silver);
    }

    .mercedes-hero h1 {
      font-size: 4rem;
      margin-bottom: 1.5rem;
      color: var(--mercedes-silver);
      text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
      font-weight: bold;
    }

    .mercedes-hero p {
      font-size: 1.3rem;
      max-width: 800px;
      margin: 0 auto 2rem;
      opacity: 0.9;
    }

    .btn-mercedes {
      background: linear-gradient(135deg, var(--mercedes-silver), var(--mercedes-dark-silver));
      border: none;
      color: var(--jade-black);
      padding: 8px 16px;
      font-size: 0.9rem;
      font-weight: 600;
      border-radius: 5px;
      transition: all 0.3s ease;
    }

    .btn-mercedes:hover {
      background: linear-gradient(135deg, var(--mercedes-dark-silver), var(--mercedes-silver));
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(192, 192, 192, 0.4);
      color: var(--jade-black);
    }

    .btn-outline-mercedes {
      border: 2px solid var(--mercedes-silver);
      color: var(--mercedes-silver);
      background: transparent;
      padding: 8px 16px;
      font-size: 0.9rem;
      font-weight: 600;
      border-radius: 5px;
      transition: all 0.3s ease;
    }

    .btn-outline-mercedes:hover {
      background: var(--mercedes-silver);
      color: var(--jade-black);
      transform: translateY(-2px);
    }

    /* Models Section */
    .models-section {
      padding: 80px 0;
      background: var(--jade-dark);
    }

    .models-section h2 {
      text-align: center;
      margin-bottom: 50px;
      color: var(--mercedes-silver);
      font-weight: bold;
      font-size: 2.5rem;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
    }

    .car-card {
      background: var(--jade-black);
      border: 2px solid var(--mercedes-silver);
      border-radius: 15px;
      overflow: hidden;
      transition: all 0.3s ease;
      margin-bottom: 30px;
      height: 100%;
    }

    .car-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 40px rgba(192, 192, 192, 0.3);
      border-color: var(--mercedes-dark-silver);
    }

    .car-card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .car-card:hover img {
      transform: scale(1.05);
    }

    .car-card-body {
      padding: 20px;
    }

    .car-card-title {
      color: var(--mercedes-silver);
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .car-card-price {
      color: var(--gold-color);
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 15px;
    }

    .car-card-features {
      list-style: none;
      padding: 0;
      margin-bottom: 20px;
    }

    .car-card-features li {
      margin-bottom: 5px;
      color: var(--text-light);
      opacity: 0.9;
    }

    .car-card-features li i {
      color: var(--mercedes-silver);
      margin-right: 8px;
    }

    .car-card-actions {
      display: flex;
      gap: 10px;
    }

    /* About Mercedes */
    .about-mercedes {
      padding: 80px 0;
      background: var(--jade-black);
    }

    .about-mercedes h2 {
      text-align: center;
      margin-bottom: 50px;
      color: var(--mercedes-silver);
      font-weight: bold;
      font-size: 2.5rem;
    }

    .about-content {
      display: flex;
      align-items: center;
      gap: 40px;
    }

    .about-text {
      flex: 1;
    }

    .about-image {
      flex: 1;
      border-radius: 15px;
      overflow: hidden;
      border: 2px solid var(--mercedes-silver);
      background: var(--jade-dark);
      height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding: 20px;
    }

    .mercedes-logo {
      width: 200px;
      height: 200px;
      margin-bottom: 20px;
    }

    .about-image i {
      font-size: 8rem;
      color: var(--mercedes-silver);
    }

    /* Footer */
    footer {
      background: var(--jade-dark) !important;
      border-top: 3px solid var(--gold-color);
    }

    footer h5 {
      color: var(--gold-color);
    }

    footer p {
      margin-bottom: 8px;
      opacity: 0.9;
      color: var(--text-light);
    }

    /* Contact Float */
    .contact-float {
      position: fixed;
      bottom: 30px;
      right: 30px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 1000;
    }

    .contact-float a {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      color: var(--jade-black);
      font-size: 24px;
      text-decoration: none;
      box-shadow: 0 6px 20px rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
    }

    .contact-float a:hover {
      transform: scale(1.15);
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.5);
    }

    .hotline { 
      background: linear-gradient(135deg, var(--gold-color), var(--dark-gold));
    }

    .facebook { 
      background: linear-gradient(135deg, var(--accent-gold), var(--gold-color));
    }

    /* Modal Custom Styles */
    .car-modal .modal-content {
      background: var(--jade-black);
      border: 2px solid var(--mercedes-silver);
      border-radius: 15px;
      color: var(--text-light);
    }

    .car-modal .modal-header {
      border-bottom: 1px solid var(--mercedes-silver);
    }

    .car-modal .modal-title {
      color: var(--mercedes-silver);
      font-weight: bold;
    }

    .car-modal .btn-close {
      filter: invert(1);
    }

    .car-modal .modal-body {
      padding: 20px;
    }

    .car-modal .car-image {
      width: 100%;
      height: 300px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .car-modal .specs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .car-modal .spec-item {
      background: var(--jade-dark);
      padding: 15px;
      border-radius: 10px;
      border-left: 4px solid var(--mercedes-silver);
    }

    .car-modal .spec-label {
      font-weight: bold;
      color: var(--gold-color);
      margin-bottom: 5px;
    }

    .car-modal .spec-value {
      color: var(--text-light);
    }

    .car-modal .modal-footer {
      border-top: 1px solid var(--mercedes-silver);
    }

    /* Filter Section */
    .filter-section {
      background: var(--jade-black);
      padding: 20px;
      border-radius: 15px;
      border: 2px solid var(--mercedes-silver);
      margin-bottom: 30px;
    }

    .filter-title {
      color: var(--mercedes-silver);
      font-weight: bold;
      margin-bottom: 15px;
      text-align: center;
    }

    .filter-group {
      margin-bottom: 20px;
    }

    .filter-group-title {
      color: var(--gold-color);
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 1.1rem;
    }

    .filter-options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .filter-option {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      padding: 5px 0;
      transition: all 0.2s ease;
    }

    .filter-option:hover {
      color: var(--gold-color);
    }

    .filter-option input {
      margin: 0;
    }

    .filter-option label {
      margin: 0;
      cursor: pointer;
    }

    /* Advanced Search Bar */
    .advanced-search-form .form-control {
      border: 2px solid var(--jade-black) !important;
      background: var(--text-light);
      color: var(--jade-black);
      border-radius: 5px !important;
    }

    .advanced-search-form .form-control:focus {
      border-color: var(--gold-color) !important;
      box-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
    }

    .advanced-search-form .btn-outline-light {
      border: 2px solid var(--jade-black) !important;
      color: var(--jade-black) !important;
      background: transparent;
      border-radius: 5px !important;
    }

    .advanced-search-form .btn-outline-light:hover {
      background: var(--jade-black) !important;
      color: var(--text-light) !important;
      border-color: var(--jade-black) !important;
    }

    /* Pagination */
    .pagination-container {
      display: flex;
      justify-content: center;
      margin-top: 30px;
    }

    .pagination-btn {
      background: var(--jade-dark);
      color: var(--text-light);
      border: 2px solid var(--mercedes-silver);
      padding: 8px 16px;
      margin: 0 5px;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .pagination-btn:hover,
    .pagination-btn.active {
      background: var(--mercedes-silver);
      color: var(--jade-black);
    }

    /* Loading Animation */
    .loading {
      opacity: 0.5;
      pointer-events: none;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .mercedes-hero h1 {
        font-size: 2.5rem;
      }
      
      .mercedes-hero p {
        font-size: 1.1rem;
      }
      
      .about-content {
        flex-direction: column;
      }
      
      .contact-float {
        bottom: 20px;
        right: 20px;
      }
      
      .contact-float a {
        width: 50px;
        height: 50px;
        font-size: 20px;
      }

      .car-card-actions {
        flex-direction: column;
      }

      .about-image {
        height: 300px;
      }

      .about-image i {
        font-size: 6rem;
      }

      .mercedes-logo {
        width: 150px;
        height: 150px;
      }
      
      .car-modal .specs-grid {
        grid-template-columns: 1fr;
      }

      .filter-section {
        margin-bottom: 20px;
      }
    }

    /* Loading animation */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .fade-in-up {
      animation: fadeInUp 0.6s ease;
    }

    /* Toast notification */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1055;
    }

    .custom-toast {
      background: var(--jade-black);
      border: 2px solid var(--mercedes-silver);
      border-radius: 10px;
      color: var(--text-light);
    }

    .car-image-placeholder {
      width: 100%;
      height: 250px;
      background: var(--jade-dark);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--mercedes-silver);
      font-size: 3rem;
    }

    .img-fallback {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--jade-dark);
      color: var(--mercedes-silver);
      font-size: 1.5rem;
    }
    .navbar .d-flex.ms-3 .form-control {
    width: 200px;
    height: 40px;
    background: #ffffff;
    border: 2px solid var(--jade-black);
    color: var(--jade-black);
    transition: all 0.3s ease;
    font-size: 14px;
}

.navbar .d-flex.ms-3 .form-control:focus {
    background: #ffffff;
    border-color: var(--jade-black);
    color: var(--jade-black);
    box-shadow: 0 0 0 0.25rem rgba(13, 27, 42, 0.25);
    width: 220px; /* Mở rộng nhẹ khi focus */
}

.navbar .d-flex.ms-3 .form-control::placeholder {
    color: rgba(13, 27, 42, 0.5);
    font-size: 14px;
}

.navbar .d-flex.ms-3 .btn-outline-light {
    height: 40px;
    width: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-color: var(--jade-black);
    color: var(--jade-black);
    background: transparent;
    transition: all 0.3s ease;
}

.navbar .d-flex.ms-3 .btn-outline-light:hover {
    background: var(--jade-black);
    border-color: var(--jade-black);
    color: var(--gold-color);
}

/* Responsive cho mobile */
@media (max-width: 768px) {
    .navbar .d-flex.ms-3 {
        min-width: 200px;
        margin-top: 10px;
    }
    
    .navbar .d-flex.ms-3 .form-control {
        width: 150px;
        height: 35px;
    }
    
    .navbar .d-flex.ms-3 .btn-outline-light {
        height: 35px;
        width: 35px;
    }
}
/* Nút tìm kiếm nâng cao */
.navbar .btn-outline-light[title="Tìm kiếm nâng cao"] {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  border-color: var(--jade-black);
  color: var(--jade-black);
  background: transparent;
  transition: all 0.3s ease;
}

.navbar .btn-outline-light[title="Tìm kiếm nâng cao"]:hover {
  background: var(--jade-black);
  border-color: var(--jade-black);
  color: var(--gold-color);
  transform: scale(1.1);
}

/* Form controls trong modal */
#advancedSearchModal .form-control,
#advancedSearchModal .form-select {
  background: var(--jade-dark);
  border: 2px solid var(--gold-color);
  color: var(--text-light);
  border-radius: 10px;
  transition: all 0.3s ease;
}

#advancedSearchModal .form-control:focus,
#advancedSearchModal .form-select:focus {
  background: var(--jade-dark);
  border-color: var(--accent-gold);
  color: var(--text-light);
  box-shadow: 0 0 0 0.25rem rgba(255, 215, 0, 0.25);
}

#advancedSearchModal .form-control::placeholder {
  color: rgba(232, 232, 232, 0.6);
}

/* Responsive */
@media (max-width: 768px) {
  .navbar .btn-outline-light[title="Tìm kiếm nâng cao"] {
    width: 35px;
    height: 35px;
  }
  
  #advancedSearchModal .modal-dialog {
    margin: 20px;
  }
}
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg shadow-lg">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="../index.html">
        <img src="https://preview.redd.it/petition-to-make-this-the-new-pic-of-the-sub-v0-x8o3qf29ah5f1.png?width=640&crop=smart&auto=webp&s=d04da2f01be93af3cba092e71c636a1c3bf61749" 
             alt="Logo" 
             style="height:40px; margin-right:10px; border-radius:50%; background-color:#000; padding:2px;"
             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMjAiIGZpbGw9IiNDMEMwQzAiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJMMTUuMDkgOC4yNkwxMiA0LjgyTDguOTEgOC4yNkwxMiAyWiIgZmlsbD0iIzBEMUIyQSIvPgo8cGF0aCBkPSJNMTIgMjJMMTUuMDkgMTUuNzRMMTIgMTkuMThMOC45MSAxNS43NEwxMiAyMloiIGZpbGw9IiMwRDFCMkEiLz4KPHBhdGggZD0iTTIgMTJMOD4yNiAxNS4wOUw0LjgyIDEyTDguMjYgOC45MUwyIDEyWiIgZmlsbD0iIzBEMUIyQSIvPgo8cGF0aCBkPSJNMjIgMTJMMTUuNzQgOC45MUwxOS4xOCAxMkwxNS43NCAxNS4wOUwyMiAxMloiIGZpbGw9IiMwRDFCMkEiLz4KPC9zdmc+Cjwvc3ZnPgo='">
        <span class="brand-text">OTOTHESIU</span>
      </a>
      
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <!-- Mua xe Dropdown -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-shopping-cart me-1"></i>Mua xe
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="lamborghini.html"><i class="fas fa-car me-2"></i>Lamborghini</a></li>
              <li><a class="dropdown-item" href="ferrari.html"><i class="fas fa-car me-2"></i>Ferrari</a></li>
              <li><a class="dropdown-item" href="bugatti.html"><i class="fas fa-car me-2"></i>Bugatti</a></li>
              <li><a class="dropdown-item" href="koenigsegg.html"><i class="fas fa-car me-2"></i>Koenigsegg</a></li>
              <li><a class="dropdown-item" href="mclaren.html"><i class="fas fa-car me-2"></i>McLaren</a></li>
              <li><a class="dropdown-item" href="pagani.html"><i class="fas fa-car me-2"></i>Pagani</a></li>
              <li><a class="dropdown-item" href="porsche.html"><i class="fas fa-car me-2"></i>Porsche (thể thao)</a></li>
              <li><a class="dropdown-item active" href="mercedes.html"><i class="fas fa-car me-2"></i>Mercedes-Benz (thể thao)</a></li>
              <li><a class="dropdown-item" href="bmw.html"><i class="fas fa-car me-2"></i>BMW (thể thao)</a></li>
            </ul>
          </li>
        </ul>
        
        <ul class="navbar-nav mb-2 mb-lg-0">
          <!-- Hiển thị thông tin người dùng nếu đã đăng nhập -->
          <li id="userInfo" class="nav-item dropdown" style="display: none;">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="userName">
              Người dùng
            </a>
            <ul class="dropdown-menu user-dropdown">
              <li><a class="dropdown-item" href="../customer-info.html"><i class="fas fa-user me-2"></i>Thông tin cá nhân</a></li>
              <li><a class="dropdown-item" href="#" id="logoutBtn"><i class="fas fa-sign-out-alt me-2"></i>Đăng xuất</a></li>
            </ul>
          </li>
          
          <!-- Hiển thị nút đăng nhập nếu chưa đăng nhập -->
          <li id="loginLink" class="nav-item">
            <a class="nav-link" href="../login.html">
              <i class="fas fa-user me-1"></i>Đăng nhập
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="../cart.html">
              <i class="fas fa-shopping-bag me-1"></i>Giỏ hàng
            </a>
          </li>
        </ul>
        
        <!-- Search Bar -->
         <!-- Search Bar --> 
       <form class="d-flex ms-3" role="search" action="../search-result.html"> 
        <input class="form-control me-2" type="search" placeholder="Tìm kiếm siêu xe..." aria-label="Search"> 
        <button class="btn btn-outline-light" type="submit"> <i class="fas fa-search"></i> 
      </button> 
    </form> 
  </div> 
</div>
<!-- Nút mở modal tìm kiếm nâng cao -->
<div class="nav-item ms-2">
  <button class="btn btn-outline-light" type="button" data-bs-toggle="modal" data-bs-target="#advancedSearchModal" title="Tìm kiếm nâng cao">
    <i class="fas fa-sliders-h"></i>
  </button>
</div>

<!-- Modal tìm kiếm nâng cao -->
<div class="modal fade" id="advancedSearchModal" tabindex="-1" aria-labelledby="advancedSearchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" style="background: var(--jade-black); border: 2px solid var(--gold-color); border-radius: 15px;">
      <div class="modal-header" style="border-bottom: 2px solid var(--gold-color);">
        <h5 class="modal-title" style="color: var(--gold-color);" id="advancedSearchModalLabel">
          <i class="fas fa-search me-2"></i>Tìm kiếm nâng cao
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="filter: invert(1);"></button>
      </div>
      <div class="modal-body">
        <form id="advancedSearchForm" action="search-result.html" method="GET">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label" style="color: var(--gold-color);">Tên xe</label>
              <input type="text" class="form-control" name="carName" placeholder="Nhập tên xe...">
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label" style="color: var(--gold-color);">Hãng xe</label>
              <select class="form-select" name="brand">
                <option value="">Tất cả hãng xe</option>
                <option value="lamborghini">Lamborghini</option>
                <option value="ferrari">Ferrari</option>
                <option value="bugatti">Bugatti</option>
                <option value="rolls-royce">Rolls-Royce</option>
                <option value="porsche">Porsche</option>
                <option value="mclaren">McLaren</option>
                <option value="koenigsegg">Koenigsegg</option>
                <option value="pagani">Pagani</option>
                <option value="mercedes">Mercedes-Benz</option>
                <option value="bmw">BMW</option>
              </select>
            </div>
          </div>
          
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label" style="color: var(--gold-color);">Loại động cơ</label>
              <select class="form-select" name="engine">
                <option value="">Tất cả động cơ</option>
                <option value="v12">V12</option>
                <option value="v10">V10</option>
                <option value="v8">V8</option>
                <option value="w16">W16</option>
                <option value="hybrid">Hybrid</option>
                <option value="electric">Điện</option>
              </select>
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label" style="color: var(--gold-color);">Khoảng giá</label>
              <select class="form-select" name="priceRange">
                <option value="">Tất cả mức giá</option>
                <option value="0-10">Dưới 10 tỷ</option>
                <option value="10-20">10 - 20 tỷ</option>
                <option value="20-30">20 - 30 tỷ</option>
                <option value="30-50">30 - 50 tỷ</option>
                <option value="50-100">50 - 100 tỷ</option>
                <option value="100+">Trên 100 tỷ</option>
              </select>
            </div>
          </div>
          
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label" style="color: var(--gold-color);">Công suất tối thiểu</label>
              <select class="form-select" name="minHorsepower">
                <option value="">Không yêu cầu</option>
                <option value="500">500+ mã lực</option>
                <option value="600">600+ mã lực</option>
                <option value="700">700+ mã lực</option>
                <option value="800">800+ mã lực</option>
                <option value="900">900+ mã lực</option>
                <option value="1000">1000+ mã lực</option>
              </select>
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label" style="color: var(--gold-color);">Tốc độ tối đa</label>
              <select class="form-select" name="topSpeed">
                <option value="">Không yêu cầu</option>
                <option value="300">300+ km/h</option>
                <option value="320">320+ km/h</option>
                <option value="350">350+ km/h</option>
                <option value="380">380+ km/h</option>
                <option value="400">400+ km/h</option>
              </select>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer" style="border-top: 2px solid var(--gold-color);">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="
          border: 2px solid var(--gold-color);
          color: var(--gold-color);
          background: transparent;
          border-radius: 50px;
          padding: 8px 20px;
        ">Đóng</button>
        <button type="submit" form="advancedSearchForm" class="btn btn-primary" style="
          background: linear-gradient(135deg, var(--gold-color), var(--dark-gold));
          border: none;
          color: var(--jade-black);
          border-radius: 50px;
          padding: 8px 25px;
          font-weight: 600;
        ">
          <i class="fas fa-search me-2"></i>Tìm kiếm
        </button>
      </div>
    </div>
  </div>
</div>
</nav>

  <!-- Toast Notification -->
  <div class="toast-container">
    <div id="successToast" class="toast custom-toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <i class="fas fa-check-circle text-success me-2"></i>
        <strong class="me-auto">Thành công</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        Đã thêm vào giỏ hàng thành công!
      </div>
    </div>
  </div>

  <!-- Car Details Modal -->
  <div class="modal fade car-modal" id="carDetailsModal" tabindex="-1" aria-labelledby="carDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="carDetailsModalLabel">Chi tiết xe</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <img id="modalCarImage" class="car-image" src="" alt="Mercedes-Benz" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIzMDAiIHZpZXdCb3g9IjAgMCA0MDAgMzAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgZmlsbD0iIzA0MUU0MiIvPgo8cGF0aCBkPSJNMTUwIDE1MEwyMDAgMTAwTDI1MCAxNTBMMjAwIDIwMEwxNTAgMTUwWiIgZmlsbD0iI0MwQzBDMCIvPgo8dGV4dCB4PSIyMDAiIHk9IjE2MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iI0MwQzBDMCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4Ij5NZXJjZWRlczwvdGV4dD4KPC9zdmc+Cg=='">
          <h3 id="modalCarName" class="mb-3" style="color: var(--mercedes-silver);"></h3>
          <div id="modalCarPrice" class="mb-3" style="color: var(--gold-color); font-size: 1.5rem; font-weight: bold;"></div>
          <p id="modalCarDescription" class="mb-4"></p>
          
          <h5 style="color: var(--mercedes-silver); margin-bottom: 15px;">Thông số kỹ thuật</h5>
          <div class="specs-grid" id="modalCarSpecs">
            <!-- Specs will be dynamically added here -->
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-mercedes" data-bs-dismiss="modal">Đóng</button>
          <button type="button" class="btn btn-mercedes" id="modalAddToCartBtn">
            <i class="fas fa-shopping-cart me-2"></i>Thêm vào giỏ hàng
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="mercedes-hero">
    <div class="container">
      <h1 class="fade-in-up">Mercedes-Benz</h1>
      <div class="container my-5">
        <div class="card shadow-lg border-0" style="background-color:#0a1a2f; color:white;">
          <div class="card-body">
            <h2 class="card-title text-center mb-4" style="color:#C0C0C0;">Thông tin về Mercedes-Benz</h2>
            <ul class="list-group list-group-flush">
              <li class="list-group-item" style="background-color:#0a1a2f; color:white; border-color:rgba(255,255,255,0.2);">
                <strong>Quốc gia:</strong> Đức (Germany)
              </li>
              <li class="list-group-item" style="background-color:#0a1a2f; color:white; border-color:rgba(255,255,255,0.2);">
                <strong>Trụ sở chính:</strong> Stuttgart, Baden-Württemberg
              </li>
              <li class="list-group-item" style="background-color:#0a1a2f; color:white; border-color:rgba(255,255,255,0.2);">
                <strong>Người sáng lập:</strong> Karl Benz & Gottlieb Daimler (1926)
              </li>
              <li class="list-group-item" style="background-color:#0a1a2f; color:white; border-color:rgba(255,255,255,0.2);">
                <strong>Tiền thân:</strong> Daimler-Motoren-Gesellschaft & Benz & Cie
              </li>
              <li class="list-group-item" style="background-color:#0a1a2f; color:white; border-color:rgba(255,255,255,0.2);">
                <strong>Biểu tượng:</strong> Ngôi sao ba cánh
              </li>
              <li class="list-group-item" style="background-color:#0a1a2f; color:white; border-color:rgba(255,255,255,0.2);">
                <strong>Sở hữu hiện tại:</strong> Tập đoàn Daimler AG
              </li>
            </ul>
          </div>
        </div>
      </div>
      <a class="btn btn-mercedes btn-lg fade-in-up" href="#models">
        <i class="fas fa-gem me-2"></i>Khám phá các dòng xe
      </a>
    </div>
  </section>

  <!-- Models Section -->
  <section class="models-section" id="models">
    <div class="container">
      <h2 class="fade-in-up">Các dòng xe Mercedes-Benz thể thao</h2>
      
      <div class="row">
        <!-- Filter Section - Bên trái -->
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="filter-section fade-in-up">
            <h4 class="filter-title">
              <i class="fas fa-filter me-2"></i>Bộ lọc
            </h4>
            
            <!-- Lọc theo động cơ -->
            <div class="filter-group">
              <h5 class="filter-group-title">Loại động cơ</h5>
              <div class="filter-options">
                <div class="filter-option">
                  <input type="checkbox" id="engine-v8" name="engine" value="v8">
                  <label for="engine-v8">Động cơ V8</label>
                </div>
                <div class="filter-option">
                  <input type="checkbox" id="engine-v6" name="engine" value="v6">
                  <label for="engine-v6">Động cơ V6</label>
                </div>
                <div class="filter-option">
                  <input type="checkbox" id="engine-hybrid" name="engine" value="hybrid">
                  <label for="engine-hybrid">Hybrid</label>
                </div>
              </div>
            </div>
            
            <!-- Lọc theo giá -->
            <div class="filter-group">
              <h5 class="filter-group-title">Mức giá</h5>
              <div class="filter-options">
                <div class="filter-option">
                  <input type="checkbox" id="price-under-15" name="price" value="under-15">
                  <label for="price-under-15">Dưới 15 tỷ</label>
                </div>
                <div class="filter-option">
                  <input type="checkbox" id="price-15-30" name="price" value="15-30">
                  <label for="price-15-30">15 - 30 tỷ</label>
                </div>
                <div class="filter-option">
                  <input type="checkbox" id="price-over-30" name="price" value="over-30">
                  <label for="price-over-30">Trên 30 tỷ</label>
                </div>
              </div>
            </div>
            
            <!-- Lọc theo tốc độ -->
            <div class="filter-group">
              <h5 class="filter-group-title">Tốc độ tối đa</h5>
              <div class="filter-options">
                <div class="filter-option">
                  <input type="checkbox" id="speed-over-300" name="speed" value="over-300">
                  <label for="speed-over-300">Trên 300 km/h</label>
                </div>
                <div class="filter-option">
                  <input type="checkbox" id="speed-under-300" name="speed" value="under-300">
                  <label for="speed-under-300">Dưới 300 km/h</label>
                </div>
              </div>
            </div>

            <!-- Advanced Search Bar -->
            <div class="filter-group advanced-search-form">
              <h5 class="filter-group-title">Tìm kiếm nâng cao</h5>
              <form class="d-flex">
                <input class="form-control me-2" type="search" id="advancedSearch" placeholder="Tìm kiếm theo tên xe..." aria-label="Search">
                <button class="btn btn-outline-light" type="submit">
                  <i class="fas fa-search"></i>
                </button>
              </form>
            </div>
          </div>
        </div>
        
        <!-- Cars Section - Bên phải -->
        <div class="col-lg-9 col-md-8">
          <div class="row" id="mercedesCars"></div>
          
          <!-- Pagination -->
          <div class="pagination-container fade-in-up" id="pagination"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Mercedes -->
  <section class="about-mercedes">
    <div class="container">
      <h2 class="fade-in-up">Về thương hiệu Mercedes-Benz</h2>
      <div class="about-content fade-in-up">
        <div class="about-text">
          <p>Mercedes-Benz - biểu tượng của sự sang trọng, an toàn và công nghệ tiên tiến. Được thành lập vào năm 1926, thương hiệu Đức này đã trở thành biểu tượng của xe hơi cao cấp với sự kết hợp hoàn hảo giữa hiệu suất, tiện nghi và an toàn.</p>
          
          <h4 style="color: var(--mercedes-silver); margin-top: 20px;">Đặc điểm nổi bật:</h4>
          <ul>
            <li>Thiết kế sang trọng với ngôn ngữ thiết kế Sensual Purity</li>
            <li>Động cơ mạnh mẽ với công nghệ AMG Performance</li>
            <li>Công nghệ an toàn tiên tiến với MBUX và Driver Assistance</li>
            <li>Nội thất cao cấp với vật liệu chất lượng cao</li>
            <li>Hiệu suất vượt trội với hệ thống treo thể thao AMG</li>
          </ul>
          
          <h4 style="color: var(--mercedes-silver); margin-top: 20px;">Dịch vụ tại OTOTHESIU:</h4>
          <ul>
            <li>Bảo hành chính hãng toàn cầu</li>
            <li>Dịch vụ bảo dưỡng chuyên nghiệp</li>
            <li>Tư vấn tài chính linh hoạt</li>
            <li>Giao xe tận nơi trên toàn quốc</li>
          </ul>
        </div>
        <div class="about-image">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Mercedes-Logo.svg/2048px-Mercedes-Logo.svg.png" 
               alt="Mercedes-Benz Logo" 
               class="mercedes-logo">
          <p class="text-center mt-3" style="color: var(--gold-color); font-weight: bold;">Mercedes-Benz</p>
          <p class="text-center" style="opacity: 0.8;">Biểu tượng của sự sang trọng và hiệu suất</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-4">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h5 class="mb-3">
            <i class="fas fa-phone-alt me-2"></i>Thông tin liên hệ
          </h5>
          <p class="mb-2"><i class="fas fa-envelope me-2"></i>thanhhoa13052006@gmail.com</p>
          <p class="mb-2"><i class="fas fa-phone me-2"></i>0983 XXX XXX</p>
        </div>
        <div class="col-md-6">
          <h5 class="mb-3">
            <i class="fas fa-map-marker-alt me-2"></i>Địa chỉ
          </h5>
          <p class="mb-2"><i class="fas fa-building me-2"></i>123XYZ quận 1, TP.HCM</p>
          <p class="mb-2"><i class="fas fa-user-tie me-2"></i>Liên hệ: Trần Văn Thiện</p>
        </div>
      </div>
      <hr class="my-4" style="border-color: var(--gold-color);">
      <div class="text-center">
        <p class="mb-0">&copy; 2024 OTOTHESIU. Tất cả quyền được bảo lưu.</p>
      </div>
    </div>
  </footer>

  <!-- Floating Contact Buttons -->
  <div class="contact-float">
    <a href="tel:0838266864" class="hotline" title="Gọi ngay">
      <i class="fas fa-phone"></i>
    </a>
    <a href="https://web.facebook.com/?_rdc=1&_rdr" class="facebook" title="Liên hệ qua Facebook" target="_blank">
      <i class="fab fa-facebook-f"></i>
    </a>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    // Brand configuration
    const brandConfig = {
      brandName: 'Mercedes-Benz',
      primaryColor: 'var(--mercedes-silver)',
      secondaryColor: 'var(--mercedes-dark-silver)',
      logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Mercedes-Logo.svg/2048px-Mercedes-Logo.svg.png'
    };

    // Dữ liệu xe Mercedes-Benz
    const mercedesCars = [
      {
        id: 1,
        name: "Mercedes-AMG GT Black Series",
        price: 45000000000,
        features: [
          "Tốc độ tối đa: 325 km/h",
          "Công suất: 730 mã lực",
          "0-100 km/h: 3.2 giây",
          "Động cơ V8 Biturbo"
        ],
        image: "https://i.ytimg.com/vi/pS9B-z8UFK0/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLDAlhw7cncv3-t9Wh3Ag3sZfKWVZQ",
        description: "Mercedes-AMG GT Black Series là phiên bản mạnh mẽ nhất của dòng AMG GT, với thiết kế hướng đến đường đua và hiệu suất cực cao. Với động cơ V8 biturbo được tinh chỉnh đặc biệt, đây là mẫu xe thể thao thuần túy nhất từ Mercedes-AMG.",
        specs: {
          engine: "4.0L V8 Biturbo",
          power: "730 mã lực",
          torque: "800 Nm",
          acceleration: "0-100 km/h: 3.2 giây",
          topspeed: "325 km/h",
          transmission: "7-speed AMG SPEEDSHIFT DCT",
          drivetrain: "Rear-wheel drive"
        },
        engineType: "v8",
        maxSpeed: 325
      },
      {
        id: 2,
        name: "Mercedes-AMG ONE",
        price: 250000000000,
        features: [
          "Tốc độ tối đa: 352 km/h",
          "Công suất: 1,063 mã lực",
          "0-100 km/h: 2.9 giây",
          "Công nghệ F1 hybrid"
        ],
        image: "https://vcdn1-vnexpress.vnecdn.net/2022/06/02/2023-Mercedes-AMG-ONE-41-jpeg-5494-1654141031.jpg?w=460&h=0&q=100&dpr=2&fit=crop&s=SY5_wythQ0APR5qxa-zScA",
        description: "Mercedes-AMG ONE là siêu xe hybrid sử dụng công nghệ trực tiếp từ Formula 1. Với động cơ V6 turbo kết hợp với 4 động cơ điện, đây là một trong những chiếc xe công nghệ cao nhất từng được sản xuất, mang đến trải nghiệm lái xe F1 trên đường phố.",
        specs: {
          engine: "1.6L V6 Turbo + 4 động cơ điện",
          power: "1,063 mã lực",
          torque: "Không công bố",
          acceleration: "0-100 km/h: 2.9 giây",
          topspeed: "352 km/h",
          transmission: "7-speed AMT",
          drivetrain: "All-wheel drive"
        },
        engineType: "hybrid",
        maxSpeed: 352
      },
      {
        id: 3,
        name: "Mercedes-AMG SL 63",
        price: 28000000000,
        features: [
          "Tốc độ tối đa: 315 km/h",
          "Công suất: 585 mã lực",
          "0-100 km/h: 3.6 giây",
          "Roadster 4 chỗ"
        ],
        image: "https://otohoangkim-storage.sgp1.cdn.digitaloceanspaces.com/mercedesamg-sl-63-phien-ban-motorsport-collectors-0-900x900.webp",
        description: "Mercedes-AMG SL 63 là mẫu xe roadster cao cấp với thiết kế mới hoàn toàn và công nghệ tiên tiến. Kết hợp giữa sự sang trọng của dòng SL và hiệu suất của AMG, đây là chiếc xe hoàn hảo cho những chuyến du ngoạn với tốc độ cao.",
        specs: {
          engine: "4.0L V8 Biturbo",
          power: "585 mã lực",
          torque: "800 Nm",
          acceleration: "0-100 km/h: 3.6 giây",
          topspeed: "315 km/h",
          transmission: "9-speed AMG SPEEDSHIFT MCT",
          drivetrain: "All-wheel drive"
        },
        engineType: "v8",
        maxSpeed: 315
      },
      {
        id: 4,
        name: "Mercedes-AMG C 63 S E Performance",
        price: 18000000000,
        features: [
          "Tốc độ tối đa: 280 km/h",
          "Công suất: 680 mã lực",
          "0-100 km/h: 3.4 giây",
          "Sedan hybrid hiệu suất cao"
        ],
        image: "https://vcdn1-vnexpress.vnecdn.net/2024/04/11/top-1712811625-8555-1712812356.jpg?w=500&h=300&q=100&dpr=1&fit=crop&s=_faZ1aaaqRiOxBZyPz-TTQ",
        description: "Mercedes-AMG C 63 S E Performance là thế hệ mới của dòng C 63 với hệ thống hybrid hiệu suất cao. Thay thế động cơ V8 bằng động cơ 4 xi-lanh kết hợp với hệ thống hybrid, mang đến hiệu suất vượt trội và tiết kiệm nhiên liệu hơn.",
        specs: {
          engine: "2.0L 4-cylinder + động cơ điện",
          power: "680 mã lực",
          torque: "1,020 Nm",
          acceleration: "0-100 km/h: 3.4 giây",
          topspeed: "280 km/h",
          transmission: "9-speed AMG SPEEDSHIFT MCT",
          drivetrain: "All-wheel drive"
        },
        engineType: "hybrid",
        maxSpeed: 280
      },
      {
        id: 5,
        name: "Mercedes-AMG E 63 S 4MATIC+",
        price: 22000000000,
        features: [
          "Tốc độ tối đa: 300 km/h",
          "Công suất: 612 mã lực",
          "0-100 km/h: 3.4 giây",
          "Sedan thể thao đa dụng"
        ],
        image: "https://hips.hearstapps.com/hmg-prod/images/2023-mercedes-amg-e63-s-4matic-103-1671563913.jpg?crop=0.554xw:0.467xh;0.274xw,0.396xh&resize=2048:*",
        description: "Mercedes-AMG E 63 S 4MATIC+ là mẫu sedan thể thao kết hợp hoàn hảo giữa sự thoải mái, tiện nghi và hiệu suất cao. Với động cơ V8 biturbo mạnh mẽ và hệ thống 4MATIC+, đây là chiếc xe lý tưởng cho cả việc di chuyển hàng ngày và những chuyến đi tốc độ cao.",
        specs: {
          engine: "4.0L V8 Biturbo",
          power: "612 mã lực",
          torque: "850 Nm",
          acceleration: "0-100 km/h: 3.4 giây",
          topspeed: "300 km/h",
          transmission: "9-speed AMG SPEEDSHIFT MCT",
          drivetrain: "All-wheel drive"
        },
        engineType: "v8",
        maxSpeed: 300
      },
      {
        id: 6,
        name: "Mercedes-AMG S 63 E Performance",
        price: 35000000000,
        features: [
          "Tốc độ tối đa: 290 km/h",
          "Công suất: 802 mã lực",
          "0-100 km/h: 3.3 giây",
          "Sedan sang trọng hiệu suất cao"
        ],
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQGWC3R0s7AWYgqqzUQUCZ86tNGbJFgsVy8Ew&s",
        description: "Mercedes-AMG S 63 E Performance là phiên bản mạnh mẽ nhất của dòng S-Class, kết hợp sự sang trọng tột đỉnh với hiệu suất hybrid cực cao. Với hệ thống hybrid hiệu suất cao, đây là chiếc sedan sang trọng nhất và mạnh mẽ nhất từ Mercedes-AMG.",
        specs: {
          engine: "4.0L V8 Biturbo + động cơ điện",
          power: "802 mã lực",
          torque: "1,430 Nm",
          acceleration: "0-100 km/h: 3.3 giây",
          topspeed: "290 km/h",
          transmission: "9-speed AMG SPEEDSHIFT MCT",
          drivetrain: "All-wheel drive"
        },
        engineType: "hybrid",
        maxSpeed: 290
      }
    ];

    // Utility module
    const utils = {
      formatPrice: (price) => {
        try {
          if (typeof price !== 'number' || isNaN(price)) {
            throw new Error('Giá tiền không hợp lệ');
          }
          return new Intl.NumberFormat('vi-VN').format(price) + ' VNĐ';
        } catch (error) {
          console.error('Lỗi định dạng giá:', error.message);
          return 'Lỗi giá';
        }
      },
      addToCart: (car) => {
        try {
          if (!car || !car.id || !car.name || !car.price || !car.image) {
            throw new Error('Thông tin xe không hợp lệ');
          }
          let cart = JSON.parse(localStorage.getItem('cart')) || [];
          const existingItem = cart.find(item => item.id === car.id);
          if (existingItem) {
            existingItem.quantity += 1;
          } else {
            cart.push({ id: car.id, name: car.name, price: car.price, image: car.image, quantity: 1 });
          }
          localStorage.setItem('cart', JSON.stringify(cart));
          const toast = new bootstrap.Toast(document.getElementById('successToast'));
          toast.show();
        } catch (error) {
          console.error('Lỗi thêm vào giỏ hàng:', error.message);
          alert('Không thể thêm vào giỏ hàng: ' + error.message);
        }
      }
    };

    // State variables
    let currentCar = null;
    let currentPage = 1;
    const carsPerPage = 3;
    let filteredCars = [...mercedesCars];

    // Debounce function
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    // Filter cars
    function filterCars() {
      const engines = Array.from(document.querySelectorAll('input[name="engine"]:checked')).map(input => input.value);
      const prices = Array.from(document.querySelectorAll('input[name="price"]:checked')).map(input => input.value);
      const speeds = Array.from(document.querySelectorAll('input[name="speed"]:checked')).map(input => input.value);
      const searchQuery = document.getElementById('advancedSearch').value.toLowerCase();

      filteredCars = mercedesCars.filter(car => {
        const matchesEngine = engines.length === 0 || engines.includes(car.engineType);
        const matchesPrice = prices.length === 0 || prices.some(range => {
          if (range === 'under-15') return car.price < 15000000000;
          if (range === '15-30') return car.price >= 15000000000 && car.price <= 30000000000;
          if (range === 'over-30') return car.price > 30000000000;
          return true;
        });
        const matchesSpeed = speeds.length === 0 || speeds.some(speed => {
          if (speed === 'over-300') return car.maxSpeed > 300;
          if (speed === 'under-300') return car.maxSpeed <= 300;
          return true;
        });
        const matchesSearch = searchQuery === '' || car.name.toLowerCase().includes(searchQuery);
        return matchesEngine && matchesPrice && matchesSpeed && matchesSearch;
      });

      currentPage = 1;
      displayMercedesCars();
      updatePagination();
    }

    // Display cars with animation delay
    function displayMercedesCars(page = currentPage) {
      const container = document.getElementById('mercedesCars');
      container.classList.add('loading');
      container.innerHTML = '';

      setTimeout(() => {
        const startIndex = (page - 1) * carsPerPage;
        const endIndex = startIndex + carsPerPage;
        const carsToShow = filteredCars.slice(startIndex, endIndex);

        carsToShow.forEach((car, index) => {
          const carCard = document.createElement('div');
          carCard.className = 'col-lg-4 col-md-6';
          carCard.innerHTML = `
            <div class="car-card fade-in-up" style="animation-delay: ${index * 0.2}s">
              <img src="${car.image}" alt="${car.name}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIyNTAiIHZpZXdCb3g9IjAgMCA0MDAgMjUwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI1MCIgZmlsbD0iIzA0MUU0MiIvPgo8cGF0aCBkPSJNMTUwIDEyNUwyMDAgNzVMMjUwIDEyNUwyMDAgMTc1TDE1MCAxMjVaIiBmaWxsPSIjQzBDMEMwIi8+Cjx0ZXh0IHg9IjIwMCIgeT0iMTM1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjQzBDMEMwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTgiPk1lcmNlZGVzPC90ZXh0Pgo8L3N2Zz4KJz">
              <div class="car-card-body">
                <h3 class="car-card-title">${car.name}</h3>
                <div class="car-card-price">${utils.formatPrice(car.price)}</div>
                <ul class="car-card-features">
                  ${car.features.map(feature => `<li><i class="fas fa-check"></i>${feature}</li>`).join('')}
                </ul>
                <div class="car-card-actions">
                  <button class="btn btn-outline-mercedes w-100" onclick="showCarDetails(${JSON.stringify(car).replace(/"/g, '&quot;')})">
                    <i class="fas fa-info-circle me-2"></i>Xem chi tiết
                  </button>
                  <button class="btn btn-mercedes w-100" onclick="utils.addToCart(${JSON.stringify(car).replace(/"/g, '&quot;')})">
                    <i class="fas fa-shopping-cart me-2"></i>Thêm vào giỏ
                  </button>
                </div>
              </div>
            </div>
          `;
          container.appendChild(carCard);
        });

        container.classList.remove('loading');
      }, 300);
    }

    // Update pagination
    function updatePagination() {
      const totalPages = Math.ceil(filteredCars.length / carsPerPage);
      const paginationContainer = document.getElementById('pagination');
      paginationContainer.innerHTML = '';

      for (let i = 1; i <= totalPages; i++) {
        const button = document.createElement('button');
        button.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;
        button.textContent = i;
        button.addEventListener('click', () => {
          currentPage = i;
          displayMercedesCars();
          updatePagination();
        });
        paginationContainer.appendChild(button);
      }
    }

    // Show car details in modal
    function showCarDetails(car) {
      currentCar = car;
      document.getElementById('carDetailsModalLabel').textContent = car.name;
      document.getElementById('modalCarName').textContent = car.name;
      document.getElementById('modalCarPrice').textContent = utils.formatPrice(car.price);
      document.getElementById('modalCarDescription').textContent = car.description;
      document.getElementById('modalCarImage').src = car.image;
      document.getElementById('modalCarImage').alt = car.name;

      const specsContainer = document.getElementById('modalCarSpecs');
      specsContainer.innerHTML = '';
      for (const [key, value] of Object.entries(car.specs)) {
        const specItem = document.createElement('div');
        specItem.className = 'spec-item';
        specItem.innerHTML = `
          <div class="spec-label">${key.charAt(0).toUpperCase() + key.slice(1)}</div>
          <div class="spec-value">${value}</div>
        `;
        specsContainer.appendChild(specItem);
      }

      const modal = new bootstrap.Modal(document.getElementById('carDetailsModal'));
      modal.show();
    }

    // Check login status
    function checkLoginStatus() {
      const userInfo = document.getElementById('userInfo');
      const loginLink = document.getElementById('loginLink');
      const userName = document.getElementById('userName');

      const loggedInUser = localStorage.getItem('loggedInUser');
      if (loggedInUser) {
        const user = JSON.parse(loggedInUser);
        userInfo.style.display = 'block';
        loginLink.style.display = 'none';
        userName.textContent = user.name;
      } else {
        userInfo.style.display = 'none';
        loginLink.style.display = 'block';
      }
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      checkLoginStatus();
      displayMercedesCars();
      updatePagination();

      // Add filter event listeners with debounce
      const debouncedFilter = debounce(filterCars, 300);
      document.querySelectorAll('input[name="engine"], input[name="price"], input[name="speed"]').forEach(input => {
        input.addEventListener('change', debouncedFilter);
      });

      // Add advanced search event listener
      document.getElementById('advancedSearch').addEventListener('input', debouncedFilter);

      // Prevent form submission
      document.querySelector('.advanced-search-form').addEventListener('submit', e => e.preventDefault());

      // Handle logout
      document.getElementById('logoutBtn').addEventListener('click', function(e) {
        e.preventDefault();
        localStorage.removeItem('loggedInUser');
        checkLoginStatus();
        alert('Đã đăng xuất thành công!');
        window.location.href = '../index.html';
      });

      // Handle modal add to cart
      document.getElementById('modalAddToCartBtn').addEventListener('click', function() {
        if (currentCar) {
          utils.addToCart(currentCar);
          const modal = bootstrap.Modal.getInstance(document.getElementById('carDetailsModal'));
          modal.hide();
        }
      });

      // Fade-in effect on scroll
      const fadeElements = document.querySelectorAll('.fade-in-up');
      const fadeInOnScroll = function() {
        fadeElements.forEach(element => {
          const elementTop = element.getBoundingClientRect().top;
          const elementVisible = 150;
          if (elementTop < window.innerHeight - elementVisible) {
            element.style.opacity = 1;
            element.style.transform = 'translateY(0)';
          }
        });
      };
      fadeInOnScroll();
      window.addEventListener('scroll', fadeInOnScroll);
    });
  </script>
</body>
</html>